# Project Details

# Table of Contents
- [..\src\main.py](#-src-mainpy)
- [..\src\__init__.py](#-src-__init__py)
- [..\src\config\prompts.py](#-src-config-promptspy)
- [..\src\config\__init__.py](#-src-config-__init__py)
- [..\src\core\agent_coordinator.py](#-src-core-agent_coordinatorpy)
- [..\src\core\context_manager.py](#-src-core-context_managerpy)
- [..\src\core\core-base.py](#-src-core-core-basepy)
- [..\src\core\event_bus.py](#-src-core-event_buspy)
- [..\src\core\memory_manager.py](#-src-core-memory_managerpy)
- [..\src\core\prompt_manager.py](#-src-core-prompt_managerpy)
- [..\src\core\state_manager.py](#-src-core-state_managerpy)
- [..\src\core\workflow_manager.py](#-src-core-workflow_managerpy)
- [..\src\core\__init__.py](#-src-core-__init__py)
- [..\src\file_services\file_analyzer.py](#-src-file_services-file_analyzerpy)
- [..\src\file_services\file_watcher.py](#-src-file_services-file_watcherpy)
- [..\src\file_services\workspace_scanner.py](#-src-file_services-workspace_scannerpy)
- [..\src\file_services\__init__.py](#-src-file_services-__init__py)
- [..\src\interfaces\cli_interface.py](#-src-interfaces-cli_interfacepy)
- [..\src\interfaces\request_handler.py](#-src-interfaces-request_handlerpy)
- [..\src\interfaces\response_formatter.py](#-src-interfaces-response_formatterpy)
- [..\src\interfaces\terminal_manager.py](#-src-interfaces-terminal_managerpy)
- [..\src\interfaces\__init__.py](#-src-interfaces-__init__py)
- [..\src\llm\conversation.py](#-src-llm-conversationpy)
- [..\src\llm\llm_agent.py](#-src-llm-llm_agentpy)
- [..\src\llm\llm_manager.py](#-src-llm-llm_managerpy)
- [..\src\llm\model_selector.py](#-src-llm-model_selectorpy)
- [..\src\llm\prompt_optimizer.py](#-src-llm-prompt_optimizerpy)
- [..\src\llm\response_parser.py](#-src-llm-response_parserpy)
- [..\src\storage\cache_manager.py](#-src-storage-cache_managerpy)
- [..\src\storage\persistence_manager.py](#-src-storage-persistence_managerpy)
- [..\src\storage\__init__.py](#-src-storage-__init__py)
- [..\src\task_management\checklist_manager.py](#-src-task_management-checklist_managerpy)
- [..\src\task_management\process_manager.py](#-src-task_management-process_managerpy)
- [..\src\task_management\progress_tracker copy.py](#-src-task_management-progress_tracker-copypy)
- [..\src\task_management\progress_tracker.py](#-src-task_management-progress_trackerpy)
- [..\src\task_management\task_prioritizer.py](#-src-task_management-task_prioritizerpy)
- [..\src\task_management\__init__.py](#-src-task_management-__init__py)
- [..\src\utils\config.py](#-src-utils-configpy)
- [..\src\utils\error_handler.py](#-src-utils-error_handlerpy)
- [..\src\utils\logger.py](#-src-utils-loggerpy)
- [..\src\utils\log_analyzer.py](#-src-utils-log_analyzerpy)
- [..\src\utils\prompt_templates.py](#-src-utils-prompt_templatespy)
- [..\src\utils\system_metrics.py](#-src-utils-system_metricspy)
- [..\src\utils\token_counter.py](#-src-utils-token_counterpy)
- [..\src\utils\__init__.py](#-src-utils-__init__py)
- [..\src\validation\backend_validator.py](#-src-validation-backend_validatorpy)
- [..\src\validation\frontend_validator.py](#-src-validation-frontend_validatorpy)
- [..\src\validation\implementation_validator.py](#-src-validation-implementation_validatorpy)
- [..\src\validation\test_manager.py](#-src-validation-test_managerpy)
- [..\src\validation\validation_rules.py](#-src-validation-validation_rulespy)
- [..\src\validation\__init__.py](#-src-validation-__init__py)
- [..\.env.example](#-envexample)
- [..\config\default.yaml](#-config-defaultyaml)
- [..\config\development.yaml](#-config-developmentyaml)
- [..\config\gunicorn.py](#-config-gunicornpy)
- [..\config\local.yaml](#-config-localyaml)
- [..\config\production.yaml](#-config-productionyaml)
- [..\config\prompts\base_prompts.yaml](#-config-prompts-base_promptsyaml)
- [..\config\prompts\error_prompts.yaml](#-config-prompts-error_promptsyaml)
- [..\config\prompts\workflow_prompts.yaml](#-config-prompts-workflow_promptsyaml)
- [..\.dockerignore](#-dockerignore)
- [..\.editorconfig](#-editorconfig)
- [..\.gitignore](#-gitignore)
- [..\.gitlab-ci.yml](#-gitlab-ciyml)
- [..\.pre-commit-config.yaml](#-pre-commit-configyaml)
- [..\__init__.py](#-__init__py)
- [..\cli_CodeMate.bat](#-cli_CodeMatebat)
- [..\deploy.sh](#-deploysh)
- [..\docker-compose.dev.yml](#-docker-composedevyml)
- [..\docker-compose.yml](#-docker-composeyml)
- [..\install_CodeMate.bat](#-install_CodeMatebat)
- [..\Makefile](#-Makefile)
- [..\pyproject.toml](#-pyprojecttoml)
- [..\pytest.ini](#-pytestini)
- [..\README.md](#-READMEmd)
- [..\run_tests.sh](#-run_testssh)
- [..\settings.toml](#-settingstoml)
- [..\setup.cfg](#-setupcfg)
- [..\setup.py](#-setuppy)
- [..\tox.ini](#-toxini)


# File: ..\..\src\main.py

**Binary file cannot be displayed.**

---

# ..\..\src\__init__.py
## File: ..\..\src\__init__.py

```py
# ..\..\src\__init__.py

```

---

# File: ..\..\src\config\prompts.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\config\__init__.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\agent_coordinator.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\context_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\core-base.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\event_bus.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\memory_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\prompt_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\state_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\workflow_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\core\__init__.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\file_services\file_analyzer.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\file_services\file_watcher.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\file_services\workspace_scanner.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\file_services\__init__.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\interfaces\cli_interface.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\interfaces\request_handler.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\interfaces\response_formatter.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\interfaces\terminal_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\interfaces\__init__.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\llm\conversation.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\llm\llm_agent.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\llm\llm_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\llm\model_selector.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\llm\prompt_optimizer.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\llm\response_parser.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\storage\cache_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\storage\persistence_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\storage\__init__.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\task_management\checklist_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\task_management\process_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\task_management\progress_tracker copy.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\task_management\progress_tracker.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\task_management\task_prioritizer.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\task_management\__init__.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\config.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\error_handler.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\logger.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\log_analyzer.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\prompt_templates.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\system_metrics.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\token_counter.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\utils\__init__.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\validation\backend_validator.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\validation\frontend_validator.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\validation\implementation_validator.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\validation\test_manager.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\validation\validation_rules.py

**Binary file cannot be displayed.**

---

# File: ..\..\src\validation\__init__.py

**Binary file cannot be displayed.**

---

# ..\..\.env.example
## File: ..\..\.env.example

```example
# ..\..\.env.example
# ==============================================
# LLM Configuration
# ==============================================
LLM_PROVIDER=lm_studio
CONTEXT_WINDOW=60000
TEMPERATURE=0.7
LM_STUDIO_BASE_URL=http://localhost:1234/v1
ANTHROPIC_API_KEY=your_key_here
OPENAI_API_KEY=your_key_here

# ==============================================
# Workspace & System Configuration
# ==============================================
WORKSPACE_PATH=./workspace
MAX_FILES_PER_SCAN=10

# ==============================================
# Development Settings
# ==============================================
DEBUG=false
LOG_LEVEL=INFO

# ==============================================
# Agent Settings
# ==============================================
AUTO_TEST=true

```

---

# ..\..\config\default.yaml
## File: ..\..\config\default.yaml

```yaml
# ..\..\config\default.yaml
# config/default.yaml
# Default configuration for semi-autonomous agent

general:
  workspace_path: "./Workspace"
  max_files_per_scan: 10
  debug_mode: false
  log_level: "INFO"

llm:
  default_provider: "lm_studio"
  # The following LLM variables will be loaded from .env (e.g., CONTEXT_WINDOW, TEMPERATURE)
  # context_window, temperature, and max_tokens are controlled via .env.
  providers:
    lm_studio:
      base_url: "http://localhost:1234/v1"
      timeout: 300
    anthropic:
      model: "claude-3-sonnet-20240229"
      timeout: 300
    openai:
      model: "gpt-4"
      timeout: 300

agent:
  auto_test: true
  max_retries: 3
  timeout: 300
  memory:
    short_term_limit: 100
    working_memory_limit: 50
    long_term_limit: 1000

storage:
  format: "json"
  compression: false
  backup_enabled: true
  max_backups: 5

validation:
  strict_mode: false
  auto_fix: true
  test_timeout: 30

monitoring:
  enabled: true
  metrics_interval: 60
  log_metrics: true

```

---

# ..\..\config\development.yaml
## File: ..\..\config\development.yaml

```yaml
# ..\..\config\development.yaml
# config/development.yaml
inherit: default.yaml

general:
  debug_mode: true
  log_level: "DEBUG"

llm:
  # Optionally override non-sensitive LLM settings here
  # Note: Temperature and similar variables are loaded from .env
  prompt_optimizer:
    optimization_factor: 0.9

validation:
  strict_mode: true
  auto_fix: false

```

---

# ..\..\config\gunicorn.py
## File: ..\..\config\gunicorn.py

```py
# ..\..\config\gunicorn.py
# config/gunicorn.py
import multiprocessing

# Gunicorn config
bind = "0.0.0.0:8000"
workers = multiprocessing.cpu_count() * 2 + 1
worker_class = "uvicorn.workers.UvicornWorker"
keepalive = 120
timeout = 120
graceful_timeout = 30
max_requests = 1000
max_requests_jitter = 50
reload = False
accesslog = "-"
errorlog = "-"
loglevel = "info"

# nginx/nginx.conf
events {
    worker_connections 1024;
}

http {
    upstream agent_server {
        server agent:8000;
    }

    server {
        listen 80;
        server_name localhost;

        location / {
            proxy_pass http://agent_server;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            proxy_set_header X-Forwarded-Proto $scheme;
        }
    }
}

```

---

# ..\..\config\local.yaml
## File: ..\..\config\local.yaml

```yaml
# ..\..\config\local.yaml
# Local configuration
config/local.yaml
*.local.yaml

# Temporary files
*.log
*.tmp
*.temp

```

---

# ..\..\config\production.yaml
## File: ..\..\config\production.yaml

```yaml
# ..\..\config\production.yaml
# config/production.yaml
inherit: default.yaml

general:
  debug_mode: false
  log_level: "WARNING"

llm:
  # Temperature and similar sensitive variables remain under .env control.
  # Production-specific overrides can be added here if necessary.
  
validation:
  strict_mode: true
  auto_fix: false

storage:
  compression: true
  backup_enabled: true
  max_backups: 10

monitoring:
  metrics_interval: 30

```

---

# ..\..\config\prompts\base_prompts.yaml
## File: ..\..\config\prompts\base_prompts.yaml

```yaml
# ..\..\config\prompts\base_prompts.yaml
# config/prompts/base_prompts.yaml
# Base prompts for the system with comprehensive guidance

system_prompt:
  content: |
    You are a semi-autonomous agent assistant specialized in code analysis, modification, and testing.
    Your workspace is strictly limited to the "./Workspace" directory.
    Follow these principles meticulously:
      1. Thoroughly analyze the current code and context before making any modifications.
      2. Develop clear, step-by-step plans prior to implementation.
      3. Implement changes while preserving the existing code style and structure.
      4. Rigorously test all modifications using unit and integration tests.
      5. Document your decisions, changes, and underlying reasoning in detail.
      6. If an error occurs, perform a detailed analysis and propose concrete recovery actions.
    Always maintain awareness of the system’s state and context when deciding on your actions.
  variables: []
  description: "Base system prompt for agent initialization with detailed behavior guidelines."
  category: "system"
  version: "2.0"

analysis_prompt:
  content: |
    Analyze the following files thoroughly and provide a detailed report that includes:
      1. A high-level overview of the structure and architecture.
      2. Identification of key components and module dependencies.
      3. Potential issues, risks, or areas for improvement.
      4. Specific recommendations for immediate actions and long-term enhancements.
      5. Suggestions for further testing or analysis.
    Files to analyze: {files}
  variables: ["files"]
  description: "Detailed prompt for file analysis requiring a comprehensive report."
  category: "analysis"
  version: "2.0"

implementation_prompt:
  content: |
    Implement the requested changes by adhering to these guidelines:
      1. Analyze the existing codebase and preserve the current coding style.
      2. Add detailed documentation and inline comments to explain your changes.
      3. Develop comprehensive unit tests and, if necessary, integration tests to validate the modifications.
      4. Incorporate robust error handling to manage unexpected situations.
      5. Provide a detailed report outlining the changes, the rationale behind your decisions, and any assumptions made.
    Requested changes: {changes}
    Affected files: {files}
  variables: ["changes", "files"]
  description: "Prompt for implementation with detailed instructions and documentation requirements."
  category: "implementation"
  version: "2.0"

test_prompt:
  content: |
    Develop a comprehensive test suite to validate the implemented changes. Your test plan should include:
      1. Unit tests covering all new functionality and logical branches.
      2. Integration tests to ensure proper interaction between modules.
      3. Test cases for edge scenarios and error handling.
      4. A summary of test results and any observed anomalies.
    Implementation details: {implementation}
    Files to test: {files}
  variables: ["implementation", "files"]
  description: "Prompt for creating a full test suite with detailed validation criteria."
  category: "testing"
  version: "2.0"

```

---

# ..\..\config\prompts\error_prompts.yaml
## File: ..\..\config\prompts\error_prompts.yaml

```yaml
# ..\..\config\prompts\error_prompts.yaml
# config/prompts/error_prompts.yaml
# Error prompts for in-depth error analysis and recovery with detailed guidance

error_analysis:
  content: |
    Analyze the following error message and provide a comprehensive report that includes:
      1. A detailed root cause analysis identifying all relevant factors and contextual issues.
      2. Concrete recommendations for immediate corrective actions.
      3. Long-term prevention strategies to avoid similar errors in the future.
      4. Suggestions for additional tests or monitoring to ensure system stability.
    Error details: {error_message}
    Context: {context}
  variables: ["error_message", "context"]
  description: "Prompt for detailed error analysis, including both immediate fixes and long-term prevention."
  category: "error"
  version: "2.0"

error_recovery:
  content: |
    Propose a detailed recovery plan to restore the system to a functional state. Your plan should include:
      1. Immediate actions to stabilize the system.
      2. Steps to recover data or state if necessary.
      3. Validation measures to confirm the success of the recovery.
      4. Recommendations for follow-up tests and monitoring to prevent future issues.
    Error: {error}
    Current state: {state}
  variables: ["error", "state"]
  description: "Prompt for detailed error recovery steps, covering both immediate stabilization and long-term solutions."
  category: "error"
  version: "2.0"

```

---

# ..\..\config\prompts\workflow_prompts.yaml
## File: ..\..\config\prompts\workflow_prompts.yaml

```yaml
# ..\..\config\prompts\workflow_prompts.yaml
# config/prompts/workflow_prompts.yaml
# Workflow prompts providing step-by-step guidance for planning and validating workflows

workflow_planning:
  content: |
    Develop a comprehensive workflow plan that includes the following:
      1. A clear, step-by-step description of all actions to be taken.
      2. Identification of all dependencies between steps.
      3. Specific validation checkpoints to ensure each step is executed correctly.
      4. Clear objectives and measurable success criteria for the entire process.
      5. A detailed risk analysis along with recommended mitigation measures.
    Task description: {task}
    Context: {context}
  variables: ["task", "context"]
  description: "Prompt for creating a detailed workflow plan with clear steps, dependencies, and validation points."
  category: "workflow"
  version: "2.0"

workflow_validation:
  content: |
    Review the completed workflow and provide a detailed validation report that covers:
      1. Verification that all steps have been successfully completed.
      2. Confirmation that the results meet the specified requirements and objectives.
      3. Identification of any discrepancies or issues within the workflow.
      4. Recommendations for improvements and risk minimization.
      5. Suggestions for additional tests or inspections if needed.
    Workflow: {workflow}
    Results: {results}
  variables: ["workflow", "results"]
  description: "Prompt for validating a workflow with a focus on completeness, accuracy, and improvement recommendations."
  category: "workflow"
  version: "2.0"

```

---

# ..\..\.dockerignore
## File: ..\..\.dockerignore

```
# ..\..\.dockerignore
# .dockerignore
__pycache__
*.pyc
*.pyo
*.pyd
.Python
env/
venv/
.env
.venv
pip-log.txt
pip-delete-this-directory.txt
.tox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.log
.pytest_cache/
.mypy_cache/
.hypothesis/
.gitignore
.git/
docs/
tests/
*.md
Dockerfile
docker-compose.yml
```

---

# ..\..\.editorconfig
## File: ..\..\.editorconfig

```
# ..\..\.editorconfig
# .editorconfig
# EditorConfig is awesome: https://EditorConfig.org

# top-most EditorConfig file
root = true

[*]
end_of_line = lf
insert_final_newline = true
charset = utf-8
trim_trailing_whitespace = true

[*.{py,ini,yaml,yml,json}]
indent_style = space
indent_size = 4

[*.md]
trim_trailing_whitespace = false

[Makefile]
indent_style = tab

```

---

# ..\..\.gitignore
## File: ..\..\.gitignore

```
# ..\..\.gitignore
# .gitignore

# ---------------------------
# 🐍 Python & Virtual Environments
# ---------------------------
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual Environment (common names)
venv/
.venv/
env/
ENV/
.env

# ---------------------------
# 🛠 IDE / Editor Config Files
# ---------------------------
.idea/
.vscode/
*.swp
*.swo
*.swn
.DS_Store

# ---------------------------
# 🔧 Project-specific Files
# ---------------------------
logs/
logs/*.log  # Ignore all log files
temp/
output/     # Ignore all generated output files
workspace/*
!workspace/.gitkeep  # Keep workspace folder but ignore contents

# ---------------------------
# ✅ Testing & Coverage Reports
# ---------------------------
.coverage
coverage.xml
htmlcov/
.pytest_cache/
pytest_debug.log

# ---------------------------
# 🚀 Node.js / Frontend (if applicable)
# ---------------------------
node_modules/
package-lock.json
yarn.lock

# ---------------------------
# 🔍 Miscellaneous
# ---------------------------
*.bak  # Backup files
*.tmp  # Temporary files
*.swp  # Swap files from editors
*.log  # Any log files
*.out  # Output binary files

```

---

# ..\..\.gitlab-ci.yml
## File: ..\..\.gitlab-ci.yml

```yml
# ..\..\.gitlab-ci.yml
# .gitlab-ci.yml
image: python:3.10

variables:
  PIP_CACHE_DIR: "$CI_PROJECT_DIR/.pip-cache"

cache:
  paths:
    - .pip-cache/
    - venv/

stages:
  - test
  - build
  - deploy

before_script:
  - python -V
  - python -m venv venv
  - source venv/bin/activate
  - pip install -r requirements/dev.txt

test:
  stage: test
  script:
    # Updated references from "src" to "cmate"
    - flake8 cmate tests
    - black --check cmate tests
    - isort --check-only cmate tests
    - mypy cmate tests
    - pytest tests/ -v --cov=cmate --cov-report=term-missing
  coverage: '/TOTAL.+ ([0-9]{1,3}%)/'
  artifacts:
    reports:
      coverage_report:
        coverage_format: cobertura
        path: coverage.xml

build:
  stage: build
  script:
    - python -m build
  artifacts:
    paths:
      - dist/
  only:
    - main

deploy:
  stage: deploy
  script:
    - pip install twine
    - TWINE_USERNAME=${PYPI_USERNAME} TWINE_PASSWORD=${PYPI_PASSWORD} twine upload dist/*
  only:
    - main
  when: manual

```

---

# ..\..\.pre-commit-config.yaml
## File: ..\..\.pre-commit-config.yaml

```yaml
# ..\..\.pre-commit-config.yaml
# .pre-commit-config.yaml
repos:
-   repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.4.0
    hooks:
    -   id: trailing-whitespace
    -   id: end-of-file-fixer
    -   id: check-yaml
    -   id: check-added-large-files
    -   id: debug-statements
    -   id: check-ast

-   repo: https://github.com/psf/black
    rev: 23.3.0
    hooks:
    -   id: black

-   repo: https://github.com/pycqa/isort
    rev: 5.12.0
    hooks:
    -   id: isort

-   repo: https://github.com/pycqa/flake8
    rev: 6.0.0
    hooks:
    -   id: flake8
        additional_dependencies: [flake8-docstrings]

-   repo: https://github.com/pre-commit/mirrors-mypy
    rev: v1.3.0
    hooks:
    -   id: mypy
        additional_dependencies: [types-all]

```

---

# ..\..\__init__.py
## File: ..\..\__init__.py

```py
# ..\..\__init__.py
# Auto-generated __init__.py file

```

---

# ..\..\cli_CodeMate.bat
## File: ..\..\cli_CodeMate.bat

```bat
# ..\..\cli_CodeMate.bat
@echo off
cd /d "C:\Users\Tobia\CodeMate"
"C:\Users\Tobia\AppData\Local\Programs\Python\Python310\python.exe" -m src.core.main
pause

```

---

# ..\..\deploy.sh
## File: ..\..\deploy.sh

```sh
# ..\..\deploy.sh
# deploy.sh
#!/bin/bash

# Deploy script
echo "Deploying agent system..."

# Create dist directory
mkdir -p dist

# Clean previous build
rm -rf dist/*

# Copy source files
# Updated from "cp -r src dist/" to "cp -r cmate dist/"
cp -r cmate dist/
cp -r config dist/

# Copy requirements
cp requirements/prod.txt dist/requirements.txt

# Create necessary directories
mkdir -p dist/logs
mkdir -p dist/temp
mkdir -p dist/workspace

echo "Deployment completed"

```

---

# ..\..\docker-compose.dev.yml
## File: ..\..\docker-compose.dev.yml

```yml
# ..\..\docker-compose.dev.yml
# docker-compose.dev.yml
version: '3.8'

services:
  agent:
    build:
      context: .
      dockerfile: docker/Dockerfile.dev
    volumes:
      - .:/app
      - ./workspace:/app/workspace
    environment:
      - PYTHONPATH=/app
      - DEBUG=true
    ports:
      - "8000:8000"
    depends_on:
      - lm-studio
    networks:
      - agent_network

  lm-studio:
    image: lmstudio/lmstudio:latest
    ports:
      - "1234:1234"
    volumes:
      - ./models:/models
    environment:
      - MODEL_PATH=/models
    networks:
      - agent_network

networks:
  agent_network:
    driver: bridge

# docker-compose.prod.yml
version: '3.8'

services:
  nginx:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on:
      - agent
    networks:
      - agent_network

  agent:
    build:
      context: .
      dockerfile: docker/Dockerfile.prod
    expose:
      - "8000"
    environment:
      - PYTHONPATH=/app
    volumes:
      - workspace_data:/app/workspace
    depends_on:
      - lm-studio
    networks:
      - agent_network

  lm-studio:
    image: lmstudio/lmstudio:latest
    expose:
      - "1234"
    volumes:
      - model_data:/models
    environment:
      - MODEL_PATH=/models
    networks:
      - agent_network

volumes:
  workspace_data:
  model_data:

networks:
  agent_network:
    driver: bridge
```

---

# ..\..\docker-compose.yml
## File: ..\..\docker-compose.yml

```yml
# ..\..\docker-compose.yml
# docker-compose.yml
version: '3.8'

services:
  agent:
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - ./workspace:/app/workspace
      - ./logs:/app/logs
      - ./config:/app/config
    environment:
      - PYTHONPATH=/app
      - WORKSPACE_PATH=/app/workspace
    ports:
      - "8000:8000"  # If needed for API
    networks:
      - agent_network

  lm-studio:  # Optional local LLM service
    image: lmstudio/lmstudio:latest
    ports:
      - "1234:1234"
    volumes:
      - ./models:/models
    environment:
      - MODEL_PATH=/models
    networks:
      - agent_network

networks:
  agent_network:
    driver: bridge



```

---

# ..\..\install_CodeMate.bat
## File: ..\..\install_CodeMate.bat

```bat
# ..\..\install_CodeMate.bat
@echo off
cd /d "C:\Users\Tobia\CodeMate"
"C:\Users\Tobia\AppData\Local\Programs\Python\Python310\python.exe" -m pip install -r requirements.txt
pause

```

---

# ..\..\Makefile
## File: ..\..\Makefile

```
# ..\..\Makefile
# Makefile

.PHONY: install test lint format clean docs

install:
	pip install -r requirements/dev.txt
	pre-commit install

test:
	# Updated "--cov=src" to "--cov=cmate"
	pytest tests/ -v --cov=cmate --cov-report=term-missing

lint:
	# Updated "src" → "cmate"
	flake8 cmate tests
	mypy cmate tests
	black --check cmate tests
	isort --check-only cmate tests

format:
	# Updated "src" → "cmate"
	black cmate tests
	isort cmate tests

clean:
	find . -type d -name "__pycache__" -exec rm -rf {} +
	find . -type f -name "*.pyc" -delete
	find . -type f -name "*.pyo" -delete
	find . -type f -name "*.pyd" -delete
	find . -type f -name ".coverage" -delete
	find . -type d -name "*.egg-info" -exec rm -rf {} +
	find . -type d -name "*.egg" -exec rm -rf {} +
	find . -type d -name ".pytest_cache" -exec rm -rf {} +
	find . -type d -name ".mypy_cache" -exec rm -rf {} +
	find . -type d -name ".tox" -exec rm -rf {} +
	find . -type d -name "build" -exec rm -rf {} +
	find . -type d -name "dist" -exec rm -rf {} +

docs:
	sphinx-build -b html docs/source docs/build/html

```

---

# ..\..\pyproject.toml
## File: ..\..\pyproject.toml

```toml
# ..\..\pyproject.toml
[build-system]
requires = ["setuptools>=42", "wheel"]
build-backend = "setuptools.build_meta"

[project]
name = "rewnozom-codemate"
version = "0.0.3"
description = "CodeMate – Din AI-drivna kodassistent"
requires-python = ">=3.10"

[tool.setuptools]
# Tells setuptools to treat "cmate/" as top-level.
package-dir = {"" = "cmate"}
packages = ["find:"]

[tool.setuptools.packages.find]
# Finds subpackages in "cmate/"
where = ["cmate"]

[project.scripts]
cmate = "cmate.main:app"

```

---

# ..\..\pytest.ini
## File: ..\..\pytest.ini

```ini
# ..\..\pytest.ini
# pytest.ini
[pytest]
minversion = 6.0
# Updated from "--cov=src" to "--cov=cmate"
addopts = -ra -q --cov=cmate --cov-report=term-missing
testpaths =
    tests
python_files =
    test_*.py
    *_test.py
python_classes =
    Test
    *Tests
python_functions =
    test_*
markers =
    slow: marks tests as slow
    integration: marks tests as integration tests
    unit: marks tests as unit tests

```

---

# ..\..\README.md
## File: ..\..\README.md

```md
# ..\..\README.md
# CodeMate Roadmap - Implementation Status

## Priority Levels:
- 🔴 High Priority: Critical features needed for core functionality
- 🟡 Medium Priority: Important features for enhanced operation
- 🔵 Low Priority: Nice-to-have features for future enhancement
## Core Components

### AgentCoordinator
✅ DONE:
- Full subsystem integration architecture
- Comprehensive error handling system
- Advanced event distribution system
- Audit logging and request tracking
- Dynamic configuration management
- System diagnostics infrastructure
- State-based model selection
- Multi-provider LLM integration

🔴 TODO (High Priority):
- Enhance recovery strategies with ML-based approaches
- Implement advanced workflow checkpointing
- Add dynamic resource management
- Implement auto-scaling capabilities

### WorkflowManager
✅ DONE:
- Async workflow execution engine
- Step-based workflow with dependencies
- Execution time tracking
- Persistent workflow state
- Basic error handling and recovery
- Basic workflow templates

🟡 TODO (Medium Priority):
- Advanced workflow templates
- Enhanced checkpoint/rollback system
- Multi-stage workflow validation
- Parallel workflow execution
- Workflow optimization algorithms

### StateManager
✅ DONE:
- State transitions with validation
- State persistence and history
- Observer pattern implementation
- Context window management
- Error tracking system
- State metadata handling

🟡 TODO (Medium Priority):
- Enhanced state prediction
- State optimization algorithms
- Advanced state recovery mechanisms
- Cross-state dependency tracking

### MemoryManager
✅ DONE:
- Multi-tier memory system
- Automatic cleanup
- Priority-based management
- Memory statistics
- Memory consolidation
- Token-based memory limits

🔵 TODO (Low Priority):
- Advanced memory indexing
- Memory optimization strategies
- Cross-reference memory items
- Enhanced memory persistence

## System Features

### Event System
✅ DONE:
- Event bus implementation
- Publisher/Subscriber pattern
- Event filtering
- Basic event persistence
- Event history tracking

🟡 TODO:
- Enhanced event routing
- Event prioritization
- Advanced event filtering
- Event analytics

### Request/Response Handling
✅ DONE:
- Request validation
- Response formatting
- Error handling
- Request queuing
- Basic rate limiting

🔴 TODO:
- Advanced rate limiting
- Request prioritization
- Response optimization
- Enhanced validation rules

### LLM Integration
✅ DONE:
- Multi-provider support
- State-based model selection
- Context management
- Response parsing
- Error handling

🟡 TODO:
- Enhanced prompt optimization
- Response caching
- Provider fallback system
- Context optimization

### File Services
✅ DONE:
- Basic file analysis
- Workspace scanning
- File change detection
- Basic dependency tracking

🟡 TODO:
- Enhanced dependency analysis
- Code structure visualization
- Advanced file categorization
- Pattern detection

### Validation System
✅ DONE:
- Basic validation strategies
- Frontend/Backend validation
- Implementation validation
- Test management

🔴 TODO:
- Dynamic rule generation
- Cross-file validation
- Enhanced test coverage
- Validation optimization

## Advanced Features

### Performance Optimization
✅ DONE:
- Basic metrics collection
- Resource monitoring
- Performance logging
- Basic caching

🔵 TODO:
- Advanced caching strategies
- Resource optimization
- Performance analytics
- Auto-scaling system

### Monitoring & Diagnostics
✅ DONE:
- Basic system metrics
- Error tracking
- Process monitoring
- Log analysis

🟡 TODO:
- Enhanced metrics collection
- Real-time monitoring
- Advanced diagnostics
- Performance predictions

### External Integration
✅ DONE:
- Basic Git integration
- Terminal management
- Process management

🔵 TODO:
- Enhanced Git integration
- CI/CD integration
- IDE integration
- External API integration

## Implementation Statistics:
- Core Components: ~75% Complete
- System Features: ~60% Complete
- Advanced Features: ~30% Complete
- Overall Project: ~60% Complete

## Next Steps:
1. Focus on high-priority error recovery enhancements
2. Implement advanced workflow templates
3. Enhance validation system with dynamic rules
4. Improve performance optimization
5. Develop advanced monitoring capabilities



---
---


# **CodeMate – Your AI-Powered Coding Assistant**

### 🤖 _Advanced AI Integration for Code Development, Analysis, and Testing_

**CodeMate** is a sophisticated **semi-autonomous coding assistant** that leverages multiple AI models to help you develop, analyze, and test code effectively. It uses state-based model selection to optimize AI responses for different tasks while ensuring all modifications are properly tested and integrated.

## 🔹 **Key Features**

### 1. **Advanced AI Integration**
- Multi-provider LLM support (Anthropic, OpenAI, Azure, Groq, LM Studio)
- State-based model selection for optimized responses
- Dynamic context management and token optimization
- Comprehensive error recovery and fallback systems

### 2. **Intelligent Codebase Analysis**
- Deep scanning of `./Workspace/` for project structure
- Automatic identification of frontend/backend components
- Dependency tracking and analysis
- File change monitoring and impact assessment

### 3. **Sophisticated Task Management**
- Automated task planning and workflow creation
- Interactive progress tracking with checklists
- Event-driven task orchestration
- Persistent state management with rollback capability

### 4. **Automated Code Operations**
- Context-aware code generation
- Intelligent code integration
- Style-preserving modifications
- Cross-component compatibility checks

### 5. **Comprehensive Testing**
- Automated test generation and execution
- Multi-level validation (frontend, backend, implementation)
- Test coverage analysis
- Failure recovery and code adjustment

### 6. **Advanced Monitoring**
- Detailed audit logging
- Performance metrics collection
- System diagnostics
- Error tracking and analysis

## 🔧 **System Requirements**

- Python 3.8+
- Storage: Minimum 1GB free space
- Memory: Minimum 4GB RAM recommended
- API Keys for desired LLM providers

## 📦 **Installation**

### 1. **Standard Installation**
```bash
# Navigate to project root
cd codemate

# Install package
pip install .
```

### 2. **Development Installation**
```bash
# Install in editable mode with dev dependencies
pip install -e ".[dev]"
```

### 3. **Environment Setup**
```bash
# Set up development environment
python scripts/setup.py setupenv
```

This creates required directories (`logs/`, `temp/`, `workspace/`) and installs dependencies.

## ⚙️ **Configuration**

### 1. **Environment Variables**
Create a `.env` file with your configuration:
```env
# LLM Provider Settings
LLM_PROVIDER=lm_studio
ANTHROPIC_API_KEY=your_key_here
OPENAI_API_KEY=your_key_here
AZURE_API_KEY=your_key_here
GROQ_API_KEY=your_key_here

# System Settings
CONTEXT_WINDOW=60000
TEMPERATURE=0.7
DEBUG=false
LOG_LEVEL=INFO
```

### 2. **Provider Selection**
CodeMate automatically selects the optimal model based on the current task:
- Code Generation: Uses specialized coding models
- Test Writing: Employs testing-focused models
- Analysis: Utilizes models optimized for comprehension

## 🖥️ **CLI Usage**

### Basic Commands
```bash
# Start interactive mode
cmate start

# Process a single request
cmate process "Analyze the project structure"

# Check system status
cmate status

# Display help
cmate --help
```

### Interactive CLI Commands

| Command | Description | Example |
|---------|-------------|---------|
| `analyze` | Analyze code/directory | `analyze ./Workspace/` |
| `execute` | Run workflow | `execute build_pipeline` |
| `generate` | Generate code | `generate "Create login form"` |
| `visualize` | Show workflow | `visualize` |
| `config` | View/edit config | `config` |
| `diagnostics` | System diagnostics | `diagnostics` |
| `audit` | View audit logs | `audit` |

## 📊 **Advanced Usage Examples**

### 1. **Code Analysis**
```bash
agent> analyze ./Workspace/src
```
```output
Analysis Results:
- Project Structure
- Dependencies
- Code Metrics
- Potential Issues
```

### 2. **Code Generation**
```bash
agent> generate "Create a user authentication system"
```
```output
Generating:
6. User model
7. Authentication endpoints
8. Security middleware
9. Unit tests
```

### 3. **Configuration Updates**
```bash
agent> update debug_mode True
```
```output
Configuration updated:
- Debug mode enabled
- Enhanced logging activated
```

## 🔍 **Monitoring & Diagnostics**

### 1. **Audit Logs**
```bash
agent> audit
```
Shows recent operations, changes, and system events.

### 2. **Error Tracking**
```bash
agent> error
```
Displays error history with recovery attempts.

### 3. **System Diagnostics**
```bash
agent> diagnostics
```
Shows system health, resource usage, and performance metrics.

## 🛠️ **Error Handling**

CodeMate includes sophisticated error recovery:
10. Automatic error detection and classification
11. Recovery strategy selection
12. State preservation and rollback capability
13. Detailed error reporting and logging

## 📚 **Best Practices**

14. **Workspace Organization**
   - Keep workspace clean and organized
   - Use consistent file naming
   - Maintain clear directory structure

15. **Request Formulation**
   - Be specific in requests
   - Provide context when needed
   - Use proper command syntax

16. **Configuration Management**
   - Regularly update API keys
   - Monitor resource usage
   - Review audit logs

---

*CodeMate: Empowering Developers with AI-Driven Code Development*
```

---

# ..\..\run_tests.sh
## File: ..\..\run_tests.sh

```sh
# ..\..\run_tests.sh
# scripts/run_tests.sh
#!/bin/bash

# Run all tests
echo "Running tests..."
pytest tests/ -v --cov=src --cov-report=term-missing
```

---

# ..\..\settings.toml
## File: ..\..\settings.toml

```toml
# ..\..\settings.toml
[paths]
base_dir = ""
output_dir = ""

[files]
ignored_extensions = [ ".exe", ".dll",]
ignored_files = [ "file_to_ignore.txt",]

[directories]
ignored_directories = [ "dir_to_ignore",]

[file_specific]
use_file_specific = false
specific_files = [ "",]

[output]
markdown_file_prefix = "Full_Project"
csv_file_prefix = "Detailed_Project"

[metrics]
size_unit = "KB"

[presets]
preset-1 = [ "",]

```

---

# ..\..\setup.cfg
## File: ..\..\setup.cfg

```cfg
# ..\..\setup.cfg
# setup.cfg

[metadata]
name = rewnozom-codemate
version = 0.0.03
author = Tobias Raanaes
author_email = contact@rewnozom.com  ; Use a generic email here if desired.
description = CodeMate – Your AI-driven code assistant for building, improving, and testing code.
long_description = file: README.md
long_description_content_type = text/markdown
url = https://github.com/rewnozom/CodeMate
project_urls =
    Bug Tracker = https://github.com/rewnozom/CodeMate/issues
classifiers =
    Programming Language :: Python :: 3
    License :: OSI Approved :: MIT License
    Operating System :: OS Independent

[options]
# -- Updated from "= src" to "= cmate" to match new directory name
package_dir =
    = cmate

packages = find:
python_requires = >=3.10

install_requires =
    pyside6>=6.0.0
    anthropic>=0.3.0
    openai>=1.0.0
    python-dotenv>=0.19.0
    rich>=10.0.0
    typer>=0.4.0
    pyyaml>=6.0.0

[options.packages.find]
# -- Updated from "where = src" to "where = cmate"
where = cmate

[flake8]
max-line-length = 88
extend-ignore = E203, W503
exclude = .git,__pycache__,build,dist,*.egg

[mypy]
python_version = 3.10
warn_return_any = True
warn_unused_configs = True
ignore_missing_imports = True

[coverage:run]
source = src
omit = tests/*

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    if self.debug:
    raise NotImplementedError
    if __name__ == '__main__':
    pass
    raise ImportError

```

---

# ..\..\setup.py
## File: ..\..\setup.py

```py
# ..\..\setup.py
#!/usr/bin/env python
"""
scripts/setup.py

This script serves two purposes:

1. Environment Setup Mode:
   --------------------------
   When executed with the command-line argument "setupenv", this script installs
   development dependencies (from requirements/dev.txt) and creates necessary directories
   (logs, temp, workspace, etc.). This helps set up your development environment.

   Example usage:
       python scripts/setup.py setupenv

2. Packaging Mode:
   ---------------
   When executed without the "setupenv" argument, this script calls setuptools.setup()
   with the packaging metadata so that your project (named "rewnozom-codemate") can be
   installed as a package and expose the CLI entry point "cmate". You can install the package
   using pip (e.g., pip install -e .).

   Packaging metadata includes:
       - name: "rewnozom-codemate"
       - version: "0.0.03"
       - description: A brief description of CodeMate
       - long_description: The contents of README.md (in Markdown)
       - author: "Tobias Raanaes"
       - url: "https://github.com/rewnozom/CodeMate"
       - python_requires: ">=3.10"

Usage:
  For environment setup:
      python scripts/setup.py setupenv

  For packaging (this is typically invoked via pip or build tools):
      python scripts/setup.py sdist bdist_wheel
"""

import subprocess
import sys
from pathlib import Path
import io
import os

# --------------------------------------------------
# Environment Setup Mode
# --------------------------------------------------
if len(sys.argv) > 1 and sys.argv[1] == "setupenv":
    def setup_environment():
        """Set up the development environment:
        
        - Install dependencies from requirements/dev.txt.
        - Create necessary directories (logs, temp, workspace, etc.).
        """
        try:
            print("Installing development dependencies from requirements/dev.txt ...")
            subprocess.check_call([sys.executable, "-m", "pip", "install", "-r", "requirements/dev.txt"])
            
            # List of directories to create
            directories = [
                "logs",
                "logs/metrics",
                "logs/errors",
                "temp",
                "temp/cache",
                "temp/workflow_states",
                "workspace"
            ]
            
            for directory in directories:
                Path(directory).mkdir(parents=True, exist_ok=True)
            
            print("Environment setup completed successfully.")
        except Exception as e:
            print(f"Error setting up environment: {str(e)}")
            sys.exit(1)
    
    setup_environment()
    sys.exit(0)

# --------------------------------------------------
# Packaging Mode: Call setuptools.setup()
# --------------------------------------------------
from setuptools import setup, find_packages

# Read the long description from README.md (assumes README.md is in the project root)
here = Path(__file__).parent.parent  # scripts folder's parent is the project root
readme_path = here / "README.md"
if readme_path.exists():
    with io.open(readme_path, encoding="utf-8") as f:
        long_description = f.read()
else:
    long_description = ""

setup(
    name="rewnozom-codemate",
    version="0.0.03",
    description="CodeMate – Din AI-drivna kodassistent. Let AI build, improve, and test code for you.",
    long_description=long_description,
    long_description_content_type="text/markdown",
    author="Tobias Raanaes",
    url="https://github.com/rewnozom/CodeMate",

    # -- Updated to point to the cmate directory:
    packages=find_packages(where="cmate"),
    package_dir={"": "cmate"},

    include_package_data=True,
    install_requires=[
        "pyyaml",
        "typer",
        "rich",
        "prompt_toolkit",
        "watchdog",
        "psutil",
        "python-dotenv",
        "transformers",
        # Add other dependencies as needed.
    ],

    entry_points={
        "console_scripts": [
            "cmate = cmate.main:app"
        ],
    },

    classifiers=[
        "Programming Language :: Python :: 3",
        "Operating System :: OS Independent",
    ],
    python_requires=">=3.10",
)

```

---

# ..\..\tox.ini
## File: ..\..\tox.ini

```ini
# ..\..\tox.ini
# tox.ini
[tox]
envlist = py39, py310, lint
isolated_build = True

[testenv]
deps =
    -r{toxinidir}/requirements/dev.txt
commands =
    # Updated from "--cov=src" to "--cov=cmate"
    pytest tests/ -v --cov=cmate

[testenv:lint]
deps =
    flake8
    black
    isort
    mypy
commands =
    # Updated from "flake8 src tests" etc. to "flake8 cmate tests"
    flake8 cmate tests
    black --check cmate tests
    isort --check-only cmate tests
    mypy cmate tests

```

---

